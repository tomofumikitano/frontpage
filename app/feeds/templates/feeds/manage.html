{% extends "feeds/_base.html" %}

{% block title %}Manage Feeds{% endblock %}

{% block css %}
		{% load static %}
		<link rel="stylesheet" type="text/css" href="{% static 'feeds/css/sort-list.css' %}">
{% endblock %}

{% block content %}
<section class="section">

	<div class="container">

		<div class="columns">
			<div class="column"> </div>
			<div class="column is-half">
				{% if feeds %}

					<ul id="sortlist">
						{% for feed in feeds %}
							<li id="{{feed.id}}">
								<td class="feed_title"><a href="/feeds/edit/{{ feed.id }}">{{ feed.title }}</a></td>
							</li>
						{% endfor %}
					</ul>

				{% else %}

				<div class="container has-text-centered">
					Subscribe feeds from&nbsp;<a href="/feeds/create"><strong>here</strong></a>
				</div>
				{% endif %}

			</div>
			<div class="column"> </div>
		</div>

	</div>

</section>
{% endblock %}

{% block script %}
	{% csrf_token %}
	<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
	{% load static %}
	<script src="{% static 'feeds/js/sort-list.js' %}"></script>
	<script>
		window.addEventListener("DOMContentLoaded", function() {
			slist("sortlist");
		});
	</script>
{% endblock %}
