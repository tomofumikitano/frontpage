{% extends 'feeds/_base.html' %}

{% block title %}Edit Feed{% endblock %}

{% block content %}

<br>

<div class="section">
	<div class="container">
	

<div class="columns">
	<div class="column"></div>
	<div class="column is-one-third">

		<form role="form" method="POST" class="">
			{% csrf_token %}

			<div class="field">
				<label class="label">Feed URL</label>
				<p class="control has-icons-left">
				<input name="url" class="input" type="text" placeholder="feed url" value="{{ feed.url }}">
				<span class="icon is-small is-left">
					<i class="fas fa-rss"></i>
				</span>
				</p>
			</div>

			<div class="field">
				<label class="label">Website Title (Optional)</label>
				<p class="control has-icons-left">
				<input name="title" class="input" type="text" placeholder="website title" value="{{ feed.title }}">
				<span class="icon is-small is-left"> <i class="fas fa-heading"></i> </span>
				</p>
			</div>
			
			<div class="field">
				<label class="label">Website URL (Optional)</label>
				<p class="control has-icons-left">
				<input name="website_url" class="input" type="text" placeholder="website url" value="{{ feed.website_url }}">
				<span class="icon is-small is-left"> <i class="fas fa-newspaper"></i> </span>
				</p>
			</div>

			<div class="field has-text-right">
				<button id="saveBtn" class="button is-link">Save</button>
				&nbsp;
				{% if feed %}
					<button id="deleteBtn" class="button is-danger">Delete</button>
				{% endif %}
			</div>

		</form>

		<div id="modal" class="modal">
			<div class="modal-background"></div>
			<div class="modal-content center">
				<div class="box">
					<div class="is-size-4 is-danger">Warning</div>

					<form action="/feeds/delete/{{ feed.id }}" method="POST">
						{% csrf_token %}
						Are you sure you want to delete this feed? &nbsp; &nbsp;
						<button id="do-it" class="button is-danger is-small">Do it</button>
					</form>
					</span>
				</div>
			</div>
			<button class="modal-close is-large" aria-label="close"></button>
		</div>

	</div>
	<div class="column"></div>
</div>

	</div>
</div>

{% load static %}
<script src="{% static 'feeds/js/modal.js' %}"></script>
{% endblock %}
